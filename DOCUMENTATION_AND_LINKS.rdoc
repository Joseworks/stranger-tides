AIzaSyD2RIJ6Azcnl2QJ-309Hn_6NESecq5eTN4



JS KEY MAPS AIzaSyAsmBEB76Uhe4AjnkAzZiEZjt6nRtObRJE


*** Notes for sidekiq:
* Increased pool in database.yml to 25
* Added to the Procfile:
worker: bundle exec sidekiq # Command to start sidekiq
* Naming the workers files NEEDS to be consistent with the class name!!!
*  REDIS is necessary as a dependency for HEROKU.
heroku redis:info -a stranger-tides
returns:
=== redis-clear-4937 (REDIS_URL)
Plan      Hobby Dev
Status    available
Created   2015-12-01 04:49 UTC
Version   3.0.5
Timeout   300
Maxmemory noeviction


REDIS related logs:
 heroku logs -p heroku-redis -t


BOB not showing up in heroku logs!!!!

 heroku config | grep REDIS

REDIS_URL:                redis://h:p6e3lhuuf3m5nhjjriiq6rb3uh@ec2-54-221-194-57.compute-1.amazonaws.com:12249




Heroku

Using sidekiq with Heroku is simple, you need to use the (default) Cedar stack and add a Procfile to your Rails app to start a sidekiq worker process:

web: bundle exec unicorn ...
worker: bundle exec sidekiq ...
Before version 3.0 Sidekiq will automatically configure itself to use Redis-to-Go so you don't need to customize the Redis server location. Starting from 3.0 version the built-in support for Redis-to-Go is removed, you'll need to set heroku config:set REDIS_PROVIDER=REDISTOGO_URL env variable for it to work.

Keep in mind that Heroku puts a hard limit of 10 seconds on a process restart and you cannot send a USR1 signal so restarting Sidekiq gracefully when running long running jobs is tough. Sidekiq will push the unfinished jobs back to Redis; make sure your jobs are idempotent so it can restart them when the process starts back up.

See this page for more details about Procfiles, Foreman and Heroku.





** Notes for Maps API
* Added Gem  'js_assets' to load pictures in the js files.
* requires to add a JS_assetes.rb config: JsAssets::List.allow << '*.png'










http://opendap.co-ops.nos.noaa.gov/axis/webservices/predictions/response.jsp?stationId=8454000&beginDate=20151109&endDate=20151110&datum=MHHW&unit=1&timeZone=0&dataInterval=6&format=html&Submit=Submit

http://opendap.co-ops.nos.noaa.gov/stations/index.jsp

http://tidesandcurrents.noaa.gov/noaatidepredictions/viewDailyPredictions.jsp?bmon=11&bday=21&byear=2015&timelength=daily&timeZone=0&dataUnits=1&datum=MLLW&interval=highlow&format=Submit&Stationid=8723044



http://www.programmableweb.com/api/co-ops


http://www.highcharts.com/demo/line-labels

http://www.highcharts.com/demo/line-basic

API | Weather Underground
Station Selection - NOAA Tides & Currents

Predictions
http://opendap.co-ops.nos.noaa.gov/axis/webservices/predictions/response.jsp?stationId=8454000&beginDate=20151109&endDate=20151110&datum=MHHW&unit=1&timeZone=0&dataInterval=6&format=html&Submit=Submit



CO-OPS Data Retrieval API
Search for NOAA - Libraries
noaa on Rubygems - Libraries
sethdeckard/gull
http://www.programmableweb.com/api/co-ops

FAQ - Tide Predictions and Data - NOAA Tides & Currents
https://tidesandcurrents.noaa.gov/faq2.html#30


Tidal Datums - NOAA Tides & Currents
https://tidesandcurrents.noaa.gov/datum_options.html


NOAA/NOS's VDatum: A tutorial on datums
Chartkick

michelson/lazy_high_charts
http://jsfiddle.net/gh/get/jquery/1.9.1/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/line-ajax/


RubyTides
Tide Predictions - DUMFOUNDLING BAY 8723044 Tidal Data Daily View - NOAA Tides & Currents

http://tidesandcurrents.noaa.gov/noaatidepredictions/viewDailyPredictions.jsp?bmon=11&bday=21&byear=2015&timelength=daily&timeZone=0&dataUnits=1&datum=MLLW&interval=highlow&format=Submit&Stationid=8723044





http://blog.plataformatec.com.br/2014/07/rails-4-and-postgresql-arrays/

http://blog.arkency.com/2014/10/how-to-start-using-arrays-in-rails-with-postgresql/

http://edgeguides.rubyonrails.org/active_record_postgresql.html


http://rubyjunky.com/rails-activerecord-serialize.html



Products List

water_level Preliminary or verified water levels, depending on availability.
air_temperature Air temperature as measured at the station.
water_temperature Water temperature as measured at the station.
wind  Wind speed, direction, and gusts as measured at the station.
air_pressure  Barometric pressure as measured at the station.
air_gap Air Gap (distance between a bridge and the water's surface) at the station.
conductivity  The water's conductivity as measured at the station.
visibility  Visibility from the station's visibility sensor. A measure of atmospheric clarity.
humidity  Relative humidity as measured at the station.
salinity  Salinity and specific gravity data for the station.
hourly_height Verified hourly height water level data for the station.
high_low  Verified high/low water level data for the station.
daily_mean  Verified daily mean water level data for the station.
monthly_mean  Verified monthly mean water level data for the station.
one_minute_water_level  One minute water level data for the station.
predictions 6 minute predictions water level data for the station.
datums  datums data for the stations.
currents  Currents data for currents stations.


{"metadata"
:{"id":"8454000","name":"Providence","lat":"41.8071","lon":"-71.4012"},

 "data": [
{"t":"2015-11-09 10:00", "v":"3.535", "s":"0.010", "f":"0,0,0,0", "q":"p"},
{"t":"2015-11-09 10:06", "v":"3.617", "s":"0.013", "f":"0,0,0,0", "q":"p"},
{"t":"2015-11-09 10:12", "v":"3.715", "s":"0.016", "f":"0,0,0,0", "q":"p"},
...
]


I took out //= require highcharts/highstock from the manifest to avoid double devlaration of highcharts js error.






    Water Level 6 Minute Raw Data (juneau)

Station   --  Unique seven character identifier for the station
D         --  A one character identifier for the data collection
              platform (DCP) at a station
SE        --  A two character identifier for the data sensor
Date Time --  Date and time the data were collected by the DCP
WL        --  Water level height
Sigma     --  Standard deviation of 1 second samples used
              to compute the water level height
O         --  Count of number of samples that fall outside
              a 3-sigma band about the mean
F         --  A flag that when set to 1 indicates that the
              flat tolerance limit was exceeded
R         --  A flag that when set to 1 indicates that the
              rate of change tolerance limit was exceeded
L         --  A flag that when set to 1 indicates that either
              the maximum or minimum expected water level
              height limit was exceeded
Data are in Meters above MLLW
Times are on UTC (GMT)
Additional Query Options
----------------------------------------------------------------
Station D SE Date       Time      WL    Sigma   O F R L